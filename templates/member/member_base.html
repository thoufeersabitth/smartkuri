{% load static %}
<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SmartKuri Member{% endblock %}</title>

    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700;800&display=swap"
          rel="stylesheet">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <!-- Base CSS -->
    <!-- NOTE: filename is memebres_base.css (your spelling) -->
    <link rel="stylesheet" href="{% static 'member/css/memebres_base.css' %}">

    <!-- Page specific CSS -->
    {% block extra_css %}{% endblock %}
</head>
<body>

<!-- Overlay for mobile sidebar -->
<div class="sidebar-overlay"
     onclick="document.querySelector('.sidebar').classList.remove('active')"></div>

<!-- ðŸ”· TOP NAVBAR -->
<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid px-4">

        <!-- Mobile sidebar toggle -->
        <button class="mobile-sidebar-toggle d-lg-none"
                onclick="document.querySelector('.sidebar').classList.toggle('active')">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Brand -->
        <a class="navbar-brand fw-bold" href="{% url 'members:member_dashboard' %}">
            <span class="brand-gradient">SmartKuri</span>
        </a>

        <!-- Right -->
        <div class="ms-auto d-flex align-items-center gap-3">
            <div class="user-info d-none d-md-flex align-items-center gap-2">
                <i class="fas fa-user-circle fs-4"></i>
                <span>Welcome, {{ user.username|default:"Member" }}</span>
            </div>

            <a class="btn btn-logout" href="{% url 'accounts:logout' %}">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
        </div>
    </div>
</nav>

<!-- ðŸ”¹ SIDEBAR -->
<aside class="sidebar">
    <div class="sidebar-header">
        <h4>Member Panel</h4>
    </div>

    <nav class="sidebar-nav">

        <a href="{% url 'members:member_dashboard' %}"
           class="{% if request.resolver_match.url_name == 'member_dashboard' %}active{% endif %}">
            <i class="fas fa-home"></i> Dashboard
        </a>

        <a href="{% url 'members:member_payment_history' %}"
           class="{% if request.resolver_match.url_name == 'member_payment_history' %}active{% endif %}">
            <i class="fas fa-money-bill-wave"></i> Payment History
        </a>

        <a href="{% url 'members:member_auction_list' %}"
           class="{% if request.resolver_match.url_name == 'member_auction_list' %}active{% endif %}">
            <i class="fas fa-gavel"></i> Auctions
        </a>

        <a href="{% url 'members:member_profile' %}"
           class="{% if request.resolver_match.url_name == 'member_profile' %}active{% endif %}">
            <i class="fas fa-user-circle"></i> Profile
        </a>

        <!-- âœ… Forgot Password -->
        <a href="{% url 'accounts:password_reset' %}">
            <i class="fas fa-unlock-alt"></i> Forgot Password
        </a>

    </nav>
</aside>

<!-- ðŸ”¹ MAIN CONTENT -->
<main class="main-content">

    {% if messages %}
        <div class="messages-container">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    {% block content %}
    {% endblock %}

</main>

<!-- ðŸ”» FOOTER -->
<footer class="footer text-center">
    <small>Â© 2026 SmartKuri. All rights reserved.</small>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
